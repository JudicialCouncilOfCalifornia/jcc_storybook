/* Card styles can be dictated by the parent Cards component. */
.card {
  --measure: 100rem;
  --sidebar-width: 30ch;
  --form-button: var(--bg);
}

.card--default.bg-adjust,
.card.card--overlay,
.card--striped,
.card--striped-aligned {
  overflow: hidden;
  border-radius: var(--corner-radius);
}

.card--default:not(.bg-adjust) img,
.card--default:not(.bg-adjust) iframe,
.card.card--media-left img,
.card.card--media-left iframe,
.card.card--media-right img,
.card.card--media-right iframe {
  border-radius: var(--corner-radius);
}

.card--default.bg-adjust,
.card.card--overlay,
.card--striped,
.card--striped-aligned {
  overflow: hidden;
  border-radius: var(--corner-radius);
}

.card--default:not(.bg-adjust) img,
.card--default:not(.bg-adjust) iframe {
  border-radius: var(--corner-radius);
}

.card__media .frame iframe {
  width: 100%;
  height: 100%;
}

.caption-overlay .card__media-caption-container {
  position: relative;
  display: flex;
  flex-direction: column;
}

.card--default:not(.bg-adjust) .caption-overlay .card__media-caption,
.card.card--media-left .caption-overlay .card__media-caption,
.card.card--media-right .caption-overlay .card__media-caption {
  border-bottom-left-radius: var(--corner-radius);
  border-bottom-right-radius: var(--corner-radius);
}

.card__media-caption {
  margin-block-start: var(--s-6);
  color: var(--color-base-dark-x);
  font-size: var(--s-2);
  font-weight: 600;
  line-height: var(--s0);
}

.card__media-caption span:not(.card__media-citation) {
  margin-inline-end: var(--s-6);
}

.card__media-citation {
  color: var(--color-base);
  font-size: var(--s-3);
  font-weight: 400;
}

.caption-overlay .card__media-caption,
.caption-overlay .card__media-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  margin-bottom: auto;
}

.caption-overlay .card__media-caption {
  padding-block: var(--s-4);
  padding-inline: var(--s-1);
  background-color: rgba(0,0,0,0.5);
  color: var(--color-white);
  box-sizing: border-box;
  z-index: 2;
}

.caption-overlay .card__media-citation {
  color: var(--color-base-light-xx);
}

.remote-video-colorbox-launch-modal{
 outline: none;
}

.remote-video-colorbox-launch-modal:focus img,
.remote-video-colorbox-launch-modal:focus-within img,
.remote-video-colorbox-launch-modal:focus-visible img{
  outline: var(--border-color, var(--color-accent-warm-light-x)) auto var(--s-6);
}

.card .icon-wrapper {
  block-size: var(--s5);
}

/* Card headings must always appear as H3 visually. */
.card__heading_tag:not(h1) {
  font-size: var(--s2);
  color: currentColor;
  line-height: var(--s3);
}

.card__body {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: var(--gap);
}

.card__text {
  flex: 1 1 80%;
}

.card__buttons {
  flex: auto;
}

/* Variants */

.card--clickable {
  display: block;
  text-decoration: none;
}

/* Default */
.card--default.bg-adjust .card__inner {
  gap: 0;
}

.card--default.bg-adjust .card__main {
  padding: var(--s2);
}

a.card--default {
  text-decoration: none;
}

a.card--default .card__heading_tag::after {
  margin-inline-start: var(--s-2);
  content: "";
  align-self: flex-end;
  display: inline-block;
  vertical-align: -2px;
  width: var(--s2);
  height: var(--s2);
  background-size: contain;
  background-repeat: no-repeat;
  background-color: var(--button-fg);
  mask: var(--arrow-svg) no-repeat;
  mask-size: 100%;
}

a.card--default:hover .card__heading_tag {
  text-decoration: underline;
}

a.card--default.bg-adjust:not(.card--background-base-light-xxx, .card--background-primary-light-xxx, .card--background-accent-warm-light-xxxx) .card__heading_tag::after {
  background-color: var(--color-white);
}

.card--default.bg-adjust:not(.card--background-base-light-xxx, .card--background-primary-light-xxx, .card--background-accent-warm-light-xxxx) .button {
  --button-border: var(--color-white);
  --button-fg: var(--color-white);
}

/* Card modifier class can be used on cards wrapper element or on the card. */
/* So we use both types of selector orders for each variant. */

/* Bordered Center */
.card--bordered .card,
.card.card--bordered,
.card--bordered-center .card,
.card.card--bordered-center {
  border: var(--s-2) solid
    var(--border-color, var(--color-accent-warm-light-xxxx));
  background: var(var(--color-white));
  z-index: 1;
}

.card--bordered .card > div,
.card.card--bordered > div,
.card--bordered-center .card > div,
.card.card--bordered-center > div {
  height: 100%;
  width: 100%;
  border: 1px dashed var(--color-base);
}

.card--bordered .card .card__main,
.card.card--bordered .card__main,
.card--bordered-center .card .card__main,
.card.card--bordered-center .card__main {
  --color: var(--color-black);
  --heading-color: var(--color-primary-dark-x);
  --button-fg: var(--color-accent-warm-dark-x);
  padding: var(--s1);
  background-color: var(--color-white);
}

.card--bordered-center .card .card__main,
.card.card--bordered-center .card__main {
  /* Because this is also wrapped in '.center' we can cause intrinsic center. */
  --align-items: center;
  text-align: center;
}

.card--bordered .card .switcher,
.card.card--bordered .switcher,
.card--bordered-center .card .switcher,
.card.card--bordered-center .switcher {
  gap: 0;
}

/* Media Left */
.card--media-left .card .switcher,
.card.card--media-left .switcher {
  --measure: 40rem;
  align-items: start;
}

/* Media Right */
.card--media-right .card .switcher,
.card.card--media-right .switcher {
  --measure: 40rem;
  align-items: start;
  flex-direction: row-reverse;
}

/* Overlay */
.card--overlay .card > *,
.card.card--overlay > * {
  --color: var(--color-white);
  --heading-color: var(--color);
  --button-fg: var(--color);
  --button-border: var(--color);
  display: grid;
  grid-template-areas: "card";
  place-items: center;
  overflow: hidden;
  background-color: var(--color-black);
  mix-blend-mode: multiply;
  position: relative;
}

.card--overlay .card > * > *,
.card.card--overlay > * > * {
  grid-area: card;
}

.card--overlay .card .card__media,
.card.card--overlay .card__media {
  opacity: 0.5;
  overflow: hidden;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}

.card--overlay .card .frame,
.card.card--overlay .frame {
  --frame-h: 1;
  --frame-v: 2.6;
}

.card--overlay .card .card__media img,
.card.card--overlay .card__media img {
  display: block;
  object-fit: cover;
  height: 100%;
  mix-blend-mode: multiply;
}

.card--overlay .card .card__main,
.card.card--overlay .card__main {
  padding: var(--s4);
  z-index: 1;
}

/* Striped */
.card--striped .card,
.card.card--striped,
.card--striped-aligned .card,
.card.card--striped-aligned  {
  --color: var(--color-white);
  --heading-color: var(--color);
  --align-items: center;
  color: var(--color);
  display: block;
  padding-inline: var(--s4);
  padding: var(--s4);
  font-size: var(--s1);
  line-height: var(--s4);
  text-align: center;
  background: var(--background-striped-primary-dark-xx);
}

/* Striped left additional styling */
.card--striped-aligned .card,
.card.card--striped-aligned {
  padding-block: var(--s5);
}
.card--striped-aligned .card__heading {
  --gap: var(--s2);
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
  text-align: start;
  max-width: var(--measure);
  margin-inline-end: auto;
  flex-wrap: wrap;
  column-gap: var(--gap, 1rem);
}

.card--overlay .card__heading_tag,
.card--striped .card__heading_tag,
.card--striped-aligned .card__heading_tag {
  color: var(--color-white);
}

.card--striped-aligned .card__heading .icon-wrapper {
  width: 3.25rem;
  margin-inline-end: 0;
}

.card--striped-aligned .card__text {
  text-align: start;
  max-width: var(--measure);
}

.card--striped-aligned .card__buttons.stack {
  align-items: flex-start;
  max-width: var(--measure);
}

.card.extra-padding {
  padding: var(--s5) var(--s6);
}

/* BEGIN Colorbox lightbox missing UX */
.remote-video-colorbox-launch-modal {
  display: flex ;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.remote-video-colorbox-launch-modal:before {
  position: absolute;
  content: "\25B6";
  transform: scale(5);
  color: var(--color-white);
  opacity: 0.4;
}

.remote-video-colorbox-launch-modal:hover::before {
  transform: scale(6);
}

.remote-video-colorbox-launch-modal img {
  width: 40rem;
  height: auto;
}

.card h4.sidebar-label {
  text-transform: uppercase;
  margin-block-start: var(--s-3);
  font-weight: 800;
  font-size: var(--s0);
}

.card .sidebar-date {
  font-size: var(--s2);
}
/* END */


/* BEGIN Background colors with striped backwards compatibility */
/* Base */
.card.card--default.card--background-base-light-xxx,
.card.card--striped.card--background-base-light-xxx,
.card.card--striped-aligned.card--background-base-light-xxx {
  background: var(--background-base-light-xxx);
}

.card.card--default.card--background-base-dark-x,
.card.card--striped.card--background-base-dark-x,
.card.card--striped-aligned.card--background-base-dark-x {
  background: var(--background-base-dark-x);
}

.card.card--default.card--background-base-dark-xxx,
.card.card--striped.card--background-base-dark-xxx,
.card.card--striped-aligned.card--background-base-dark-xxx {
  background: var(--background-base-dark-xxx);
}

/* Accent */
.card.card--default.card--background-accent-warm-light-xxxx,
.card.card--striped.card--background-accent-warm-light-xxxx,
.card.card--striped-aligned.card--background-accent-warm-light-xxxx {
  background: var(--background-accent-warm-light-xxxx);
}

.card.card--default.card--background-accent-warm-dark-x,
.card.card--striped.card--background-accent-warm-dark-x,
.card.card--striped-aligned.card--background-accent-warm-dark-x {
  background: var(--background-accent-warm-dark-x);
}

.card.card--default.card--background-red,
.card.card--striped.card--background-red ,
.card.card--striped-aligned.card--background-red {
  background: var(--background-red);
}

.card.card--default.card--background-brown,
.card.card--striped.card--background-brown ,
.card.card--striped-aligned.card--background-brown {
  background: var(--background-brown);
}

/* Primary */
.card.card--default.card--background-primary-light-xxx,
.card.card--striped.card--background-primary-light-xxx ,
.card.card--striped-aligned.card--background-primary-light-xxx {
  background: var(--background-primary-light-xxx);
}

.card.card--default.card--background-primary-light-x,
.card.card--striped.card--background-primary-light-x ,
.card.card--striped-aligned.card--background-primary-light-x {
  background: var(--background-primary-light-x);
}

.card.card--default.card--background-primary-dark-x,
.card.card--striped.card--background-primary-dark-x ,
.card.card--striped-aligned.card--background-primary-dark-x {
  background: var(--background-primary-dark-x);
}

/* Secondary */
.card.card--default.card--background-secondary,
.card.card--striped.card--background-secondary {
  background: var(--background-secondary);
}

.card.card--default.card--background-secondary-dark-xx,
.card.card--striped.card--background-secondary-dark-xx {
  background: var(--background-secondary-dark-xx);
}

.card--default.bg-adjust:not(.card--background-base-light-xxx, .card--background-primary-light-xxx, .card--background-accent-warm-light-xxxx) .card__heading > *,
.card--default.bg-adjust:not(.card--background-base-light-xxx, .card--background-primary-light-xxx, .card--background-accent-warm-light-xxxx) .card__text > * {
  --color: var(--color-white);
  --heading-color: var(--color);
  color: var(--color);
}

.card--striped.card--background-base-light-xxx,
.card--striped.card--background-base-light-xxx .card__heading > *,
.card--striped.card--background-primary-light-xxx,
.card--striped.card--background-primary-light-xxx .card__heading > *,
.card--striped.card--background-accent-warm-light-xxxx,
.card--striped.card--background-accent-warm-light-xxxx .card__heading > *,
.card--striped-aligned.card--background-base-light-xxx,
.card--striped-aligned.card--background-base-light-xxx .card__heading > *,
.card--striped-aligned.card--background-primary-light-xxx,
.card--striped-aligned.card--background-primary-light-xxx .card__heading > *,
.card--striped-aligned.card--background-accent-warm-light-xxxx,
.card--striped-aligned.card--background-accent-warm-light-xxxx .card__heading > * {
  --color: var(--color-black);
  color: var(--color);
}

.card--striped.card--background-base-light-xxx .button,
.card--striped.card--background-primary-light-xxx .button,
.card--striped.card--background-accent-warm-light-xxxx .button,
.card--striped-aligned.card--background-base-light-xxx .button,
.card--striped-aligned.card--background-primary-light-xxx .button,
.card--striped-aligned.card--background-accent-warm-light-xxxx .button {
  --color: var(--button-fg);
  color: var(--color);
}


/* DEPRECATED BACKGROUND COLORS */
.card.card--striped.card--background-striped-base-dark-x,
.card.card--striped-aligned.card--background-striped-base-dark-x {
  background: var(--background-striped-base-dark-x);
}

.card.card--striped.card--background-striped-base-light-x,
.card.card--striped-aligned.card--background-striped-base-light-x {
  background: var(--background-striped-base-light-xx);
}

.card.card--striped.card--background-striped-base-light-xx,
.card.card--striped-aligned.card--background-striped-base-light-xx {
  background: var(--background-striped-base-light-xx);
}

.card.card--striped.card--background-striped-primary-dark-xx,
.card.card--striped-left.card--background-striped-primary-dark-xx {
  background: var(--background-striped-primary-dark-xx);
}

.card.card--striped.card--background-striped-primary-dark-x,
.card.card--striped-aligned.card--background-striped-primary-dark-x {
  background: var(--background-striped-primary-dark-x);
}

.card.card--striped.card--background-striped-primary-light-xx,
.card.card--striped-aligned.card--background-striped-primary-light-xx {
  background: var(--background-striped-primary-light-xx);
}

.card.card--striped.card--background-striped-secondary-dark-xx,
.card.card--striped-aligned.card--background-striped-secondary-dark-xx {
  background: var(--background-striped-secondary-dark-xx);
}

.card.card--striped.card--background-striped-secondary,
.card.card--striped-aligned.card--background-striped-secondary {
  background: var(--background-striped-secondary);
}

.card.card--striped.card--background-striped-accent-warm-dark-x,
.card.card--striped-aligned.card--background-striped-accent-warm-dark-x {
  background: var(--background-striped-accent-warm-dark-x);
}

.card.card--striped.card--background-striped-accent-warm-dark-xx,
.card.card--striped-aligned.card--background-striped-accent-warm-dark-xx {
  background: var(--background-striped-accent-warm-dark-xx);
}

.card.card--striped.card--background-striped-accent-warm-dark-xxx,
.card.card--striped-aligned.card--background-striped-accent-warm-dark-xxx {
  background: var(--background-striped-accent-warm-dark-xxx);
}

.card.card--striped.card--background-base-dark-x,
.card.card--striped-aligned.card--background-base-dark-x {
  background: var(--background-base-dark-x);
}

.card.card--striped.card--background-primary-dark-xx,
.card.card--striped-aligned.card--background-primary-dark-xx {
  background: var(--background-solid-primary-dark-xx);
}

.card.card--striped.card--background-primary-dark-x,
.card.card--striped-aligned.card--background-primary-dark-x {
  background: var(--background-primary-dark-x);
}

.card.card--striped.card--background-primary-light-xx,
.card.card--striped-aligned.card--background-primary-light-xx {
  background: var(--background-solid-primary-light-xx);
}

.card.card--striped.card--background-secondary-dark-xx,
.card.card--striped-aligned.card--background-secondary-dark-xx {
  background: var(--background-secondary-dark-xx);
}

.card.card--striped.card--background-secondary,
.card.card--striped-aligned.card--background-secondary {
  background: var(--background-secondary);
}

.card.card--striped.card--background-accent-warm-dark-x,
.card.card--striped-aligned.card--background-accent-warm-dark-x {
  background: var(--background-accent-warm-dark-x);
}

.card.card--striped.card--background-accent-warm-dark-xx,
.card.card--striped-aligned.card--background-accent-warm-dark-xx {
  background: var(--background-solid-accent-warm-dark-xx);
}

.card.card--striped.card--background-accent-warm-dark-xxx,
.card.card--striped-aligned.card--background-accent-warm-dark-xxx {
  background: var(--background-solid-accent-warm-dark-xxx);
}

.card.card--background-base-light-xxx {
  background: var(--color-base-light-xxx);
}
/* END */

/* Button variants START*/
.card--striped .card .button,
.card.card--striped .button,
.card--striped-aligned .card .button,
.card.card--striped-aligned .button {
  border: 2px solid var(--color);
  color: var(--color);
}

.card .button.button--primary::after, 
.card .button.button--primary:focus::after, 
.card .button.button--text::after, 
.card .button.button--text:focus::after {
  color: currentColor;
}

.card.card--striped .card__buttons .button.button--primary::after,
.card.card--striped-aligned .card__buttons .button.button--primary::after,
.card.card--striped .card__buttons .button.button--secondary::after,
.card.card--striped-aligned .card__buttons .button.button--secondary::after,
.card.card--striped .card__buttons .button.button--text::after,
.card.card--striped-aligned .card__buttons .button.button--text::after {
  color: currentColor;
  background-color: currentColor;
}

.card.card--striped .card__buttons .button.button--primary:hover,
.card.card--striped-aligned .card__buttons .button.button--primary:hover,
.card.card--striped .card__buttons .button.button--secondary:hover,
.card.card--striped-aligned .card__buttons .button.button--secondary:hover {
  border-color: var(--color-red);
  color: var(--color-red);
}

.card.card--striped .card__buttons .button.button--primary:active,
.card.card--striped-aligned .card__buttons .button.button--primary:active,
.card.card--striped .card__buttons .button.button--secondary:active,
.card.card--striped-aligned .card__buttons .button.button--secondary:active {
  border-color: var(--color-brown);
  color: var(--color-brown);
}
/* Button varaints END*/

