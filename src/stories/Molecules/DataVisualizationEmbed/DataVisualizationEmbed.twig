{# Set up variant classes. #}
{% set variant_class = variant ? 'data-visualization-embed--' ~ variant : 'data-visualization-embed--default' %}
{% set responsive_class = mobile_url ? 'responsive-enabled' : '' %}

{# Create class array. #}
{# Include composable layout classes as needed. (stack, grid, center, etc.) #}
{# Include variant classes form above. #}
{% set classes = [
  'data-visualization-embed',
  variant_class,
  responsive_class,
] %}

<div class="{{ classes|join(' ') }}"> {# Use composable layout classes as needed. (stack, grid, center, etc.) #}
  {# Use BEM syntax for styling classes on sub-components. #}
  <div class="data-visualization-embed-desktop">
    <iframe id="iframe-content-{{ random(1000) }}" src="{{ url }}" frameborder="0" width="{{ width }}" height="{{ height }}">
      {{- 'Your browser does not support inline frames'|t -}}
    </iframe>
  </div>
  <div class="data-visualization-embed-responsive" style="position:relative;height:{{ mobile_height }}px;">
    {# Hiding 37px bottom navigation as recommended by https://community.fabric.microsoft.com/t5/Developer/Power-BI-How-to-hide-page-navigation-bar-when-embedding-using/m-p/2177569#M32790 #}
    <iframe id="iframe-content-{{ random(1000) }}" src="{{ mobile_url }}" frameborder="0"  style='overflow:hidden;position:absolute;clip-path:inset(0px 0px 37px 0px);' width="{{ mobile_width }}" height="{{ mobile_height }}">
      {{- 'Your browser does not support inline frames'|t -}}
    </iframe>
  </div>
</div>
